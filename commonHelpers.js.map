{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"45170254-42a85dd1494e2c1786d1d6be2\";\n\n\nexport function searchImgByQuery(query) {\n    const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true'\n })\n    return fetch(`${URL}?${params}`).then((response) => {\n        if (!response.ok) {\n        throw new Error (response.status)\n        }\n        return response.json()\n})\n}\n","// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryEl = document.querySelector('.gallery');\n\n\nexport function getPicture(picturesArr) {\n  const markup = picturesArr\n    .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n      return `<div class=\"photo-card\">\n  <a class=\"gallery__item\" href=\"${largeImageURL}\">\n    <img src=\"${webformatURL}\" alt=\"${tags}\" height=\"190px\"/>\n  </a>\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes: <br>${likes}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Views: <br>${views}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Comments: <br>${comments}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads: <br>${downloads}</b>\n    </p>\n  </div>\n</div>`;\n    })\n    .join('');\n\n  galleryEl.insertAdjacentHTML('beforeend', markup);\n\n  const galleryLightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  galleryLightbox.refresh();\n}\n\nexport function resetContent() {\n  galleryEl.innerHTML = '';\n}\n\nexport function showLoader() {\n  document.querySelector('.loader').classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  document.querySelector('.loader').classList.add('hidden');\n}","import { searchImgByQuery } from './js/pixabay-api.js';\nimport {\n    getPicture,\n    resetContent,\n    showLoader,\n    hideLoader\n} from \"./js/render-functions.js\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\nlet pages = null;\n\nform.addEventListener('submit', onSearch);\n\nfunction onSearch(event) {\n    event.preventDefault();\n\n    const queryInput = event.currentTarget.elements.searchQuery;  \n\n    // if (!queryInput) {\n    //     iziToast.error({\n    //         message: 'We cannot find query',\n    //         position: 'topRight',\n    //     });\n    //     return;\n    // }\n\n    const query = queryInput.value.trim();\n\n    if (!query) {\n        iziToast.error({\n            message: 'Please, enter you request',\n            position: 'topRight',\n        });\n        return;\n    }\n\n    resetContent(gallery);\n    showLoader();\n\n    searchImgByQuery(query)\n        .then((data) => {\n            hideLoader();\n            if (data.hits.length === 0) {\n                iziToast.warning({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                });\n                return;\n            }\n            getPicture(data.hits);  \n        })\n        .catch(error => {\n            hideLoader();\n            iziToast.error({\n                message: `Error: ${error.message}`,\n                position: 'topRight',\n            });\n            console.log(error);\n        });\n}\n"],"names":["URL","API_KEY","searchImgByQuery","query","params","response","galleryEl","getPicture","picturesArr","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","resetContent","showLoader","hideLoader","form","onSearch","event","iziToast","data","error"],"mappings":"6vBAAA,MAAMA,EAAM,2BACNC,EAAU,qCAGT,SAASC,EAAiBC,EAAO,CACpC,MAAMC,EAAS,IAAI,gBAAgB,CACnC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAE,EACE,OAAO,MAAM,GAAGH,CAAG,IAAII,CAAM,EAAE,EAAE,KAAMC,GAAa,CAChD,GAAI,CAACA,EAAS,GACd,MAAM,IAAI,MAAOA,EAAS,MAAM,EAEhC,OAAOA,EAAS,KAAM,CAC9B,CAAC,CACD,CCbA,MAAMC,EAAY,SAAS,cAAc,UAAU,EAG5C,SAASC,EAAWC,EAAa,CACtC,MAAMC,EAASD,EACZ,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAC1D;AAAA,mCACsBL,CAAa;AAAA,gBAChCD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,sBAIpBC,CAAK;AAAA;AAAA;AAAA,sBAGLC,CAAK;AAAA;AAAA;AAAA,yBAGFC,CAAQ;AAAA;AAAA;AAAA,0BAGPC,CAAS;AAAA;AAAA;AAAA,OAI9B,EACA,KAAK,EAAE,EAEVV,EAAU,mBAAmB,YAAaG,CAAM,EAExB,IAAIQ,EAAe,aAAc,CACvD,aAAc,MACd,aAAc,GAClB,CAAG,EACe,QAAO,CACzB,CAEO,SAASC,GAAe,CAC7BZ,EAAU,UAAY,EACxB,CAEO,SAASa,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,UAAU,OAAO,QAAQ,CAC7D,CAEO,SAASC,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,QAAQ,CAC1D,CC1CA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAClC,SAAS,cAAc,UAAU,EAGjDA,EAAK,iBAAiB,SAAUC,CAAQ,EAExC,SAASA,EAASC,EAAO,CACrBA,EAAM,eAAc,EAYpB,MAAMpB,EAVaoB,EAAM,cAAc,SAAS,YAUvB,MAAM,KAAI,EAEnC,GAAI,CAACpB,EAAO,CACRqB,EAAS,MAAM,CACX,QAAS,4BACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDN,EAAoB,EACpBC,IAEAjB,EAAiBC,CAAK,EACjB,KAAMsB,GAAS,CAEZ,GADAL,IACIK,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,QAAQ,CACb,QAAS,2EACT,SAAU,UAC9B,CAAiB,EACD,MACH,CACDjB,EAAWkB,EAAK,IAAI,CAChC,CAAS,EACA,MAAMC,GAAS,CACZN,IACAI,EAAS,MAAM,CACX,QAAS,UAAUE,EAAM,OAAO,GAChC,SAAU,UAC1B,CAAa,EACD,QAAQ,IAAIA,CAAK,CAC7B,CAAS,CACT"}